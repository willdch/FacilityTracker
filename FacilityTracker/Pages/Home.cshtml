@page
@model FacilityTracker.Pages.HomeModel
@using FacilityTracker.Models

@{
    ViewData["Title"] = "Home";
}

<div style="padding: 20px;">
    <h2>Hello @Model.FirstName, Welcome to the Facilities Tracker.</h2>
</div>

<hr/>

<div style="margin-top: 20px;">
    <p>Below is a list of all facilities.</p>
</div>

@foreach (var facility in Model.Facilities)
{
    <a asp-page="/Facilities/Profile" asp-route-id="@facility.Id" class="text-decoration-none text-dark">
        <div class="card mb-3 p-3 d-flex flex-row justify-content-between align-items-center hover-shadow">
            <div>
                <h5 class="mb-1">@facility.Name</h5>
                <p class="mb-0 text-muted">@facility.Location</p>
            </div>
            <div class="text-end">
                <strong>Staff Members</strong>
                <ul class="mb-0 ps-3 small">
                    @foreach (var user in facility.Users)
                    {
                        <li style="list-style-type: none;">@user.FirstName @user.LastName</li>
                    }
                </ul>
            </div>
        </div>
    </a>
}